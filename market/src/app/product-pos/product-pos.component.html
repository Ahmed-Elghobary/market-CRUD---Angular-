

<div  class="col-lg-10 mt-5 mt-lg-0 aos-init aos-animate text-center" data-aos="fade-left" data-aos-delay="200" style="margin: 50px !important;">

  <form action="forms/contact.php" method="post" role="form" class="php-email-form">
    <div class="row">
      <div class="col-md-6 form-group">
        <input type="text" name="name"
        [(ngModel)]="model.name"
               class="form-control"  placeholder="product Name" required="">
      </div>
      <div class="col-md-6 form-group mt-3 mt-md-0">
        <input  class="form-control" name="price"
        [(ngModel)]="model.price"
                placeholder=" price" required="">
      </div>
    </div>
    <div class="form-group mt-3">
      <input type="text" class="form-control" name="qty"
      [(ngModel)]="model.qty"
              placeholder="Quantity" required="">

    </div>
    <div class="form-group mt-3">

      {{model.categoryId}} <select id="s1"  class="form-control" (change)="changeCategory($event)" >
        <option >اختر القسم</option>
          <option *ngFor="let item of cats" [value]="item.id">{{item.name}}</option>

            </select>

    </div>
    <div class="form-group mt-3">
      <textarea class="form-control" name="description"
        [(ngModel)]="model.description"
                rows="5" placeholder="description" required=""></textarea>
    </div>
    <div class="my-3">

      <div class="error-message"></div>

    </div>


<!--
<div class="row text-center">
  <div class="col-md-12">
    {{imageName}}
    <input type="file" #file placeholder="Choose file" (change)="uploadFile(file.files)" style="display:none;">
    <button type="button" class="btn btn-success" (click)="file.click()">Upload File</button>

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
     Categories
      </button>

      <img [src]="getFullImageUrl(model.photo)" width="200" height="200"/>
  </div>
  <div class="col-md-4">
    <span class="upload" *ngIf="progress > 0">
      {{progress}}%
    </span>
    <span class="upload" *ngIf="message">
      {{message}}
    </span>
  </div>
</div>

    <div class="text-center"><button  class="btn btn-success"  type="submit" (click)="Save()">حفظ </button></div>
    <div class="text-center"><button  class="btn btn-danger" type="submit" (click)="Cancel()">الغاء </button></div>
 -->

 <div class="container mt-4">
  <div class="row justify-content-center text-center mb-4">
    <div class="col-md-8">
      <h4>{{imageName}}</h4>
      <input type="file" #file (change)="uploadFile(file.files)" style="display:none;">
      <button type="button" class="btn btn-success me-2" (click)="file.click()">
        Upload File
      </button>
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Categories
      </button>
    </div>
  </div>

  <div class="row justify-content-center text-center mb-4">
    <div class="col-md-8">
      <img [src]="getFullImageUrl(model.photo)" alt="Uploaded Image" class="img-thumbnail" width="200" height="200"/>
    </div>
  </div>

  <div class="row justify-content-center text-center mb-4">
    <div class="col-md-4">
      <span class="upload d-block" *ngIf="progress > 0">
        Upload Progress: {{progress}}%
      </span>
      <span class="upload d-block" *ngIf="message">
        {{message}}
      </span>
    </div>
  </div>

  <div class="row justify-content-center text-center">
    <div class="col-md-2 mb-2">
      <button class="btn btn-success w-100" type="submit" (click)="Save()">حفظ</button>
    </div>
    <div class="col-md-2">
      <button class="btn btn-danger w-100" type="button" (click)="Cancel()">الغاء</button>
    </div>
  </div>
</div>


<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> Categories</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div *ngFor="let item of cats" (click)="changeCutegoryPop(item)" data-bs-dismiss="modal"   [ngClass]="ChangeClass(item)" class="">
            {{item.name}} </div>

        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>




  </form>
</div>
<hr>

<table dir="rtl" class="table table-bordered table-striped  table-hover">
  <tr>
    <th>القسم</th>
    <th>اسم المنتج</th>
    <th>الوصف</th>

    <th>الصورة</th>
    <th>السعر</th>
    <th>الكميه</th>
    <th>العمليات</th>

  </tr>
  <tr *ngFor="let item of products" >
    <ng-container *ngIf="!item.IsDeleted">
    <td>{{ item.category.name}}</td>
    <td>{{item.name}}</td>
    <td>{{item.description}}</td>
    <td><img src="{{item.photo}} " width="100" height="100"/> </td>
    <td>{{item.price}}</td>
    <td>{{item.qty}}</td>
    <td>
      <button class="btn btn-primary " (click)="Edit(item)">تعديل</button>

      <button class="btn btn-danger" (click)="Delete(item )">حذف</button>

    </td>

  </ng-container>
  </tr>
</table>
